#0Y UTF-8

(PROGN (SETQ *PACKAGE* (SYSTEM::%FIND-PACKAGE "OPAL")))
(PROGN (EXPORT '(HALF K-FRAMED-TEXT)))
(PROGN (SYSTEM::REMOVE-OLD-DEFINITIONS 'HALF)
 (SYSTEM::%PUTD 'HALF
  (SYSTEM::MAKE-MACRO
   (FUNCTION HALF
    (LAMBDA (SYSTEM::<MACRO-FORM> &OPTIONAL SYSTEM::<ENV-ARG>)
     (DECLARE (CONS SYSTEM::<MACRO-FORM>)) (DECLARE (IGNORE SYSTEM::<ENV-ARG>))
     (IF (/= (LENGTH SYSTEM::<MACRO-FORM>) 2.)
      (SYSTEM::MACRO-CALL-ERROR SYSTEM::<MACRO-FORM>)
      (LET* ((N (CADR SYSTEM::<MACRO-FORM>)))
       (BLOCK HALF `(TRUNCATE ,N 2.)))))))))
(PROGN
 (SYSTEM::C-DEFUN 'DRAW-METHOD-K-FRAMED-TEXT
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(GOB A-WINDOW))))
(PROGN (SETQ *PACKAGE* (SYSTEM::%FIND-PACKAGE "GARNET-CALCULATOR")))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL GARNET-CALCULATOR-INIT)))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *DEMO-APP-OBJ*)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*MAIN-WIN-TOP* '10.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*MAIN-WIN-LEFT* '700.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*MAIN-WIN-WIDTH* '235.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*MAIN-WIN-HEIGHT* '245.))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *MAIN-WIN-COLOR*)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*FRAME-TOP* '5.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*FRAME-LEFT* '10.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*FRAME-WIDTH* '158.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*FRAME-HEIGHT* '45.))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *FRAME-LINE-STYLE*)))
(PROGN
 (SYSTEM::C-PROCLAIM-CONSTANT '*FRAME-FILLING-STYLE* 'OPAL:MOTIF-GRAY-FILL))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*RESULT-TOP* '5.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*RESULT-RIGHT* '150.))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *RESULT-FONT*)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*DRG-LEFT* '10.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*DRG-TOP* '30.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*CUT-PASTE-WIDTH* '44.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-TOP* '60.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-LEFT* '10.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-WIDTH* '30.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-HEIGHT* '20.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-H-SPACING* '4.))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-V-SPACING* '3.))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *BUTTON-FILLING-STYLE*)))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *BUTTON-LINE-STYLE*)))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *BUTTON-FONT*)))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL *GREETING-FONT*)))
(PROGN
 (SYSTEM::C-PROCLAIM-CONSTANT '*GREETING*
  '"

The Garnet Calculator

by

David S. Kosbie"))
(PROGN
 (SYSTEM::C-PROCLAIM-CONSTANT '*CUT-PASTE-COLUMN*
  ''(("Copy" #\X COPY-BUTTON) ("Paste" #\P PASTE-BUTTON)
     ("Keys" #\K KEYS-BUTTON) ("Quit" #\Q QUIT-BUTTON))))
(PROGN
 (SYSTEM::C-PROCLAIM-CONSTANT '*BUTTON-LIST*
  ''((("1/x" #\i 1/X-BUTTON) ("INV" #\I INV-BUTTON) ("e" #\e E-BUTTON)
      ("pi" #\p PI-BUTTON) ("STO" #\S STO-BUTTON) ("RCL" #\R RCL-BUTTON)
      ("SUM" #\$ SUM-BUTTON) ("EXC" #\> EXC-BUTTON))
     (("x^2" #\@ X^2-BUTTON) ("sin" #\s SIN-BUTTON) ("EE" #\E EE-BUTTON)
      ("x!" #\! X!-BUTTON) ("7" #\7 7-BUTTON) ("4" #\4 4-BUTTON)
      ("1" #\1 1-BUTTON) ("0" #\0 0-BUTTON))
     (("sqr" #\q SQR-BUTTON) ("cos" #\c COS-BUTTON) ("log" #\l LOG-BUTTON)
      ("(" #\( LEFT-PAREN-BUTTON) ("8" #\8 8-BUTTON) ("5" #\5 5-BUTTON)
      ("2" #\2 2-BUTTON) ("." #\. .-BUTTON))
     (("CE" #\C CE-BUTTON) ("tan" #\t TAN-BUTTON) ("LN" #\L LN-BUTTON)
      (")" #\) RIGHT-PAREN-BUTTON) ("9" #\9 9-BUTTON) ("6" #\6 6-BUTTON)
      ("3" #\3 3-BUTTON) ("+/-" #\~ +/--BUTTON))
     (("AC" #\A AC-BUTTON) ("DRG" #\D DRG-BUTTON) ("y^x" #\^ Y^X-BUTTON)
      ("/" #\/ /-BUTTON) ("*" #\* *-BUTTON) ("-" #\- --BUTTON)
      ("+" #\+ +-BUTTON) ("=" #\= =-BUTTON)))))
(PROGN (SYSTEM::C-PROCLAIM '(SPECIAL MY-/)))
(PROGN (SYSTEM::C-DEFUN 'MY-/ (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(A B))))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*+-OP-SPEC* '(CONS #'+ 1.)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*--OP-SPEC* '(CONS #'- 1.)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '**-OP-SPEC* '(CONS #'* 2.)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*/-OP-SPEC* '(CONS 'MY-/ 2.)))
(PROGN (SYSTEM::C-PROCLAIM-CONSTANT '*^-OP-SPEC* '(CONS #'EXPT 3.)))
(PROGN (SYSTEM::REMOVE-OLD-DEFINITIONS 'UNNAMED-INSTANCE)
 (SYSTEM::%PUTD 'UNNAMED-INSTANCE
  (SYSTEM::MAKE-MACRO
   (FUNCTION UNNAMED-INSTANCE
    (LAMBDA (SYSTEM::<MACRO-FORM> &OPTIONAL SYSTEM::<ENV-ARG>)
     (DECLARE (CONS SYSTEM::<MACRO-FORM>)) (DECLARE (IGNORE SYSTEM::<ENV-ARG>))
     (LET* ((BODY (CDR SYSTEM::<MACRO-FORM>)))
      (BLOCK UNNAMED-INSTANCE `(CREATE-INSTANCE NIL ,@BODY))))))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-UPDATE
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT &OPTIONAL RESULT-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-ERROR (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'SET-RESULT
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT NEW-VALUE))))
(PROGN
 (SYSTEM::C-DEFUN 'GET-RESULT
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'GET-RADIANS-RESULT
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'ADD-TO-END
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT NEW-STRING))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-NUMBER
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT DIGIT))))
(PROGN
 (SYSTEM::C-DEFUN 'CONVERT-TO-DRG
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT NUMBER))))
(PROGN (SYSTEM::REMOVE-OLD-DEFINITIONS 'CAREFUL-SET-RESULT)
 (SYSTEM::%PUTD 'CAREFUL-SET-RESULT
  (SYSTEM::MAKE-MACRO
   (FUNCTION CAREFUL-SET-RESULT
    (LAMBDA (SYSTEM::<MACRO-FORM> &OPTIONAL SYSTEM::<ENV-ARG>)
     (DECLARE (CONS SYSTEM::<MACRO-FORM>)) (DECLARE (IGNORE SYSTEM::<ENV-ARG>))
     (IF (/= (LENGTH SYSTEM::<MACRO-FORM>) 3.)
      (SYSTEM::MACRO-CALL-ERROR SYSTEM::<MACRO-FORM>)
      (LET*
       ((APP-OBJECT (CADR . #1=(SYSTEM::<MACRO-FORM>)))
        (NEW-VALUE (CADDR . #1#)))
       (BLOCK CAREFUL-SET-RESULT
        `(OR (GARNET-GADGETS:CAREFUL-EVAL (SET-RESULT ,APP-OBJECT ,NEW-VALUE))
          (SET-RESULT ,APP-OBJECT :ERROR))))))))))
(PROGN
 (SYSTEM::C-DEFUN '1/X-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'INV-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'E-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'PI-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'STO-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'RCL-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'SUM-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'EXC-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'X^2-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'SIN-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'EE-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'X!-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '9-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '8-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '7-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '6-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '5-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '4-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '3-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '2-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '1-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '0-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'SQR-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'COS-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'LOG-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'LEFT-PAREN-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '.-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'CE-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'TAN-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'LN-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'RIGHT-PAREN-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '+/--BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'AC-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'DRG-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'EVAL-STACK
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT STOP-POINT))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-BINARY-OP
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT PREV-KEY OP-SPEC))))
(PROGN
 (SYSTEM::C-DEFUN 'Y^X-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '/-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '*-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '--BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '+-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN '=-BUTTON (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'COPY-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'PASTE-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'KEYS-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'QUIT-BUTTON
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'MAKE-BUTTON-COLUMN
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE
   '(APP-OBJECT MAIN-AGG TOP LEFT COLUMN PROTO))))
(PROGN
 (SYSTEM::C-DEFUN 'SETUP-MAIN-WINDOW
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT DOUBLE-BUFFERED-P))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-BUTTON-PRESS
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT MAIN-AGG X Y))))
(PROGN
 (SYSTEM::C-DEFUN 'SETUP-EVENT-HANDLING
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(APP-OBJECT))))
(PROGN
 (SYSTEM::C-DEFUN 'SETUP-APPLICATION-OBJECT
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE 'NIL)))
(PROGN
 (SYSTEM::C-DEFUN 'START-CALC
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE '(&KEY DOUBLE-BUFFERED-P))))
(PROGN
 (SYSTEM::C-DEFUN 'STOP-CALC
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE
   '(APP-OBJECT &OPTIONAL (DESTROY-APP-OBJECT? T)))))
(PROGN
 (SYSTEM::C-DEFUN 'DO-GO
  (SYSTEM::LAMBDA-LIST-TO-SIGNATURE
   '(&KEY DONT-ENTER-MAIN-EVENT-LOOP DOUBLE-BUFFERED-P))))
(PROGN (SYSTEM::C-DEFUN 'DO-STOP (SYSTEM::LAMBDA-LIST-TO-SIGNATURE 'NIL)))